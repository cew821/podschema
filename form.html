<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Autogenerate HTML Forms Demo</title>
    <link rel="stylesheet" style="text/css" href="deps/opt/bootstrap.css" />
  </head>
  <body>
    <h1>Autogenerate HTML Forms Demo</h1>
    <form></form>
    <div id="res" class="alert"></div>
    <script type="text/javascript" src="deps/jquery.min.js"></script>
    <script type="text/javascript" src="deps/underscore.js"></script>
    <script type="text/javascript" src="deps/opt/jsv.js"></script>
    <script type="text/javascript" src="lib/jsonform.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            //load the schema file
            $.ajax({
                        "url": "schema/schema_1_0_final.json",
                        "dataType": "json",
                        "success": function (data) {

                            $('form').jsonForm({
                                'schema': data,
                                'onSubmit': function (errors, values) {
                                    if (errors) {
                                        $('#res').html('<p>I beg your pardon?</p>');
                                    }
                                    else {
                                        $('#res').html('<p>It worked!</p>');
                                    }
                                }
                            });
                        },
                        "error": function (error) {
                            alert('schema read failed!')
                        }
                    }
            );

        });
    </script>
  </body>
</html>
